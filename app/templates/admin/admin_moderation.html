{% extends "admin/admin_header.html" %}
{% block admin_panel_body %}


<script>
    var element = document.getElementById("problem_moderation_href");
    element.classList.remove("text-stone-800");
    element.classList.add("text-blue-600");
</script>


{% with messages = get_flashed_messages(with_categories=true) %}
    {% for category, message in messages %}
        {% if category == "danger" %}
            <div class="w-full text-stone-800 text-semibold rounded p-6 text-lg text-center bg-red-400 border-2 border-solid border-red-600">{{ message }}</div>
        {% elif category == "warning" %}
            <div class="w-full text-stone-800 text-semibold rounded p-6 text-lg text-center bg-yellow-400 border-2 border-solid border-yellow-600">{{ message }}</div>
        {% elif category == "success" %}
            <div class="w-full text-stone-800 text-semibold rounded p-6 text-lg text-center bg-green-400 border-2 border-solid border-green-600">{{ message }}</div>
        {% endif %}
    {% endfor %}
{% endwith %}


{% if not need_to_moderate %}
<div class="w-full h-full flex flex-col items-center justify-center">
    <div class="text-stone-800 text-semibold rounded p-6 text-lg text-center border-2 border-solid">
        Нет задач для модерации. Приходите завтра!
    </div>

</div>
{% endif %}
<ul class="list-none p-0 mt-4">
    {% for arch in need_to_moderate %}


    <li class="border-4 border-solid border-sky-400 bg-white mb-4 p-4 flex flex-col rounded-lg hover:border-green-600">
        <div class="flex justify-between">
            <span class="text-black text-xl">{{ arch.name }}</span>
        </div>

        <div class="h-px w-full bg-neutral-300 my-2"></div>
        
        <span class="text-slate-500 font-bold">Условие:</span>
        {% for paragraph in arch.statement.split("\n") %}
        <p class="m-0 text-base">{{ paragraph }}</p>
        {% endfor %}

        <div class="h-px w-full bg-neutral-300 my-2"></div>

        <span class="text-slate-500 font-bold">Решение:</span>
        {% for paragraph in arch.solution.split("\n") %}
        <p class="m-0 text-base">{{ paragraph }}</p>
        {% endfor %}
        <form action="/admin/moderation" method="POST">
            <input type="hidden" name="accept arch_id" value="{{ arch.id }}">
            <input type="submit" value="Опубликовать" class="hover:cursor-pointer text-green-500">
        </form>
        <form action="/admin/moderation" method="POST">
            <input type="hidden" name="reject arch_id" value="{{ arch.id }}">
            <input type="submit" value="Отклонить" class="hover:cursor-pointer text-red-500">
        </form>
    </li>
    {% endfor %}
</ul>
{% endblock %}