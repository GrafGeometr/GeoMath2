{% extends "profile/profile.html" %}
{% block profile_content %}
<style>
    #profile_pools_href {
        border-bottom: 3px solid var(--blue);
    }
</style>
    <script>
        function Accept(pool_hashed_id) {
            var data = {'pool_hashed_id' : pool_hashed_id};
            var xhr = new XMLHttpRequest();
            xhr.open('POST', '/accept_pool_invitation', true);
            xhr.setRequestHeader('Content-Type', 'application/json');
            xhr.onreadystatechange = function() {
                if (xhr.readyState == 4 && xhr.status == 200) {
                    document.getElementById("pools_block").innerHTML = this.responseText;
                }
            }
            xhr.send(JSON.stringify(data));
        }
        function Decline(pool_hashed_id) {
            var data = {'pool_hashed_id' : pool_hashed_id};
            var xhr = new XMLHttpRequest();
            xhr.open('POST', '/decline_pool_invitation', true);
            xhr.setRequestHeader('Content-Type', 'application/json');
            xhr.onreadystatechange = function() {
                if (xhr.readyState == 4 && xhr.status == 200) {
                    document.getElementById("pools_block").innerHTML = this.responseText;
                }
            }
            xhr.send(JSON.stringify(data));
        }
    </script>
    <style>
        table {
        border-collapse: collapse;
        }

        table tr {
        border-bottom: 1px solid var(--light-gray);
        }
        table tr:hover td{
            background-color: var(--light-gray);
        }

        table tr:last-child {
        border: 0;
        }
    </style>
    <div style="display: flex; flex-direction: column;">
        <div style="display: flex; flex-direction: row; justify-content: space-between;">
            <input type="text" placeholder="Найти пул..." style="font-size: 20px;">
            <a href="/pool/create" style="text-decoration: none; color: var(--white); background-color: var(--dark-green); font-size: 20px; padding: 10px; border-radius: 5px;">Новый пул</a>
        </div>
        
        <div id="pools_block">
        {% include "profile/profile_pools_table.html" %}
        </div>
    </div>
{% endblock %}